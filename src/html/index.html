<!doctype html>
<html prefix="og: https://ogp.me/ns#">
	<head>
		<title>CollabVM</title>
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta charset="utf-8" />
		<link href="../css/main.scss" rel="stylesheet" />
		<script src="https://kit.fontawesome.com/7add23c1ae.js" crossorigin="anonymous"></script>
		<link rel="icon" href="../assets/favicon.ico" />
		<meta name="description" content="A website that lets you take turns controlling online virtual machines with complete strangers!" />
		<!-- Opengraph shit -->
		<meta property="og:type" content="website" />
		<meta property="og:title" content="CollabVM" />
		<meta property="og:url" content="https://computernewb.com/collab-vm/" />
		<meta property="og:description" content="A website that lets you take turns controlling online virtual machines with complete strangers!" />
		<meta property="og:site_name" content="Computernewb" />
		<meta property="og:image" content="https://computernewb.com/collab-vm/desktop.png" />
	</head>
	<body class="main">
		<!-- Needed for the new modal API, this is where all the modals mount to 
			 I know I could probably create it dynamically but I just want it to work OK-->
		<div id="modalRoot">
			<!-- TEMP! these will be created in js or jsx -->

			<dialog id="changeUsernameDialog">
				<form method="dialog">
					<label>Enter a new username, or leave blank to assign yourself a guest username.</label><br />
					<section>
						<input id="usernameInput" type="text" placeholder="A username, or leave blank." />
					</section>

					<div class="dialog-alignright">
						<button id="okButton" value="" class="button-green">OK</button>
						<button id="cancelButton" class="button-red">Cancel</button>
					</div>
				</form>
			</dialog>

			<dialog id="alertDialog">
				<form method="dialog">
					<label id="alertMessage"></label>
					<div class="dialog-alignright">
						<button id="okButton" value="" class="button-green">OK</button>
					</div>
				</form>
			</dialog>
		</div>

		<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
			<div class="container-fluid">
				<a class="navbar-brand" href="#"><span id="siteNameText"></span></a>
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarNav">
					<ul class="navbar-nav">
						<li class="nav-item">
							<a id="homeBtn" href="#" class="nav-link active" aria-current="page"><i class="fa-solid fa-house"></i> <span id="homeBtnText"></span></a>
						</li>
						<li class="nav-item">
							<a href="https://computernewb.com/collab-vm/faq/" class="nav-link"><i class="fa-solid fa-circle-question"></i> <span id="faqBtnText"></span></a>
						</li>
						<li class="nav-item">
							<a href="https://computernewb.com/collab-vm/rules" class="nav-link"><i class="fa-solid fa-clipboard-check"></i> <span id="rulesBtnText"></span></a>
						</li>
						<li class="nav-item">
							<a href="https://discord.gg/a4kqb4mGyX" class="nav-link"><i class="fa-brands fa-discord"></i> Discord</a>
						</li>
						<li class="nav-item">
							<a href="https://reddit.com/r/collabvm" class="nav-link"><i class="fa-brands fa-reddit"></i> Subreddit</a>
						</li>
						<li class="nav-item">
							<a rel="me" class="nav-link" href="https://fedi.computernewb.com/@collabvm"><i class="fa-brands fa-mastodon"></i> Mastodon</a>
						</li>
						<li class="nav-item">
							<a href="https://computernewb.com/collab-vm/user-vm" class="nav-link"><i class="fa-solid fa-user"></i> UserVM</a>
						</li>
					</ul>
				</div>
			</div>
		</nav>
		<ul class="cards" id="vmlist"></ul>
		<div class="container-fluid" id="vmview">
			<div id="vmDisplay"></div>
			<p id="turnstatus" class="text-light"></p>
			<div id="voteResetPanel" class="bg-dark text-light" style="display: none">
				<span id="voteResetHeaderText"></span><br />
				<button class="button-green" id="voteYesBtn"><i class="fa-solid fa-check"></i> <span id="voteYesBtnText"></span><span class="badge bg-secondary" id="voteYesLabel"></span></button>
				<button class="button-red" id="voteNoBtn"><i class="fa-solid fa-ban"></i> <span id="voteNoBtnText"></span><span class="badge bg-secondary" id="voteNoLabel"></span></button><br />
				<span id="voteTimeText"></span>
				<div id="forceVotePanel">
					<button class="button-green" id="forceVoteYesBtn"><i class="fa-solid fa-check"></i> <span id="passVoteBtnText"></span></button>
					<button class="button-red" id="forceVoteNoBtn"><i class="fa-solid fa-ban"></i> <span id="cancelVoteBtnText"></span></button>
				</div>
			</div>
			<div id="btns">
				<button class="btn btn-secondary" id="takeTurnBtn"><i class="fa-solid fa-computer-mouse"></i> <span id="turnBtnText"></span></button>
				<button class="btn btn-secondary" id="oskBtn"><i class="fa-solid fa-keyboard"></i> Keyboard</button>
				<button class="btn btn-secondary" id="changeUsernameBtn"><i class="fa-solid fa-signature"></i> <span id="changeUsernameBtnText"></span></button>
				<button class="btn btn-secondary" id="voteResetButton"><i class="fa-solid fa-rotate-left"></i> <span id="voteForResetBtnText"></span></button>
				<button class="btn btn-secondary" id="screenshotButton"><i class="fa-solid fa-camera"></i> <span id="screenshotBtnText"></span></button>
				<button class="btn btn-secondary" id="ctrlAltDelBtn"><i class="fa-solid fa-gear"></i> Ctrl+Alt+Del</button>
				<div id="staffbtns">
					<button class="btn btn-secondary" id="restoreBtn"><i class="fa-solid fa-rotate-left"></i> Restore</button>
					<button class="btn btn-secondary" id="rebootBtn"><i class="fa-solid fa-power-off"></i> Reboot</button>
					<button class="btn btn-secondary" id="clearQueueBtn"><i class="fa-solid fa-eraser"></i> Clear Turn Queue</button>
					<button class="btn btn-secondary" id="bypassTurnBtn"><i class="fa-solid fa-forward"></i> Bypass Turn</button>
					<button class="btn btn-secondary" id="endTurnBtn"><i class="fa-solid fa-ban"></i> <span id="endTurnBtnText"></span></button>
					<button class="btn btn-secondary" id="indefTurnBtn"><i class="fa-solid fa-infinity"></i> Indefinite Turn</button>
					<button class="btn btn-secondary" id="qemuMonitorBtn" data-bs-toggle="modal" data-bs-target="#qemuMonitorModal"><i class="fa-solid fa-terminal"></i> QEMU Monitor</button>
				</div>
			</div>
			<div class="osk-container d-none" id="osk-container">
				<div class="osk-main"></div>

				<div class="controlArrows">
					<div class="osk-control"></div>
					<div class="osk-arrows"></div>
				</div>

				<div class="numPad">
					<div class="osk-numpad"></div>
					<div class="osk-numpadEnd"></div>
				</div>
			</div>
			<div class="row">
				<div class="col-md-4">
					<div class="table-responsive username-table">
						<table class="table table-hover table-dark table-borderless">
							<thead>
								<th><i class="fa-solid fa-user"></i> <span id="usersOnlineText"></span> (<span id="onlineusercount"></span>)</th>
							</thead>
							<tbody id="userlist"></tbody>
						</table>
					</div>
				</div>
				<div class="col-md-8">
					<div class="table-responsive chat-table" id="chatListDiv">
						<table class="table table-hover table-dark table-borderless">
							<tbody id="chatList"></tbody>
						</table>
					</div>
					<div class="input-group">
						<span class="input-group-text bg-dark text-light" id="username">Username</span>
						<input type="text" class="form-control bg-dark text-light" id="chat-input" />
						<div class="input-group-text bg-dark text-light" id="xssCheckboxContainer">
							<input class="form-check-input" type="checkbox" value="" id="xssCheckbox" />
							<label class="form-check-label" for="xssCheckbox">XSS</label>
						</div>
						<button class="btn btn-primary text-light" type="button" id="sendChatBtn"><i class="fa-solid fa-paper-plane"></i></button>
					</div>
				</div>
			</div>
		</div>
		<script src="https://js.hcaptcha.com/1/api.js" async defer></script>
		<script type="module" src="../ts/main.ts" type="application/javascript"></script>
	</body>
</html>
